##### MR中的数据倾斜

```
在MapReduce中，数据倾斜是在进行shuffle的时候，需要将不同节点上相同的key拉取到相同节点上进行计算，而这时如果某个节点上需要处理的数据量要比其他节点上大得多的话，那就会导致其他节点早早执行完成，而这个节点的ReduceTask处理速度变慢，甚至超时或失败，从而影响整个作业的性能。
```

##### 解决MapReduce中的数据倾斜

```
手动增加ReduceTask的数量
针对倾斜的Key单独处理
使用Combiner
自定义Partitioner
针对环形缓冲区异常的解决办法：扩大环形缓冲区  增加写入频率  关掉透明大页   更换ecc内存
```

1. 将日志数据从kafka读取过来
2. 对数据进行清洗 过滤掉非json格式
3. 新老用户校验
4. 分流
5. 存入kafka
